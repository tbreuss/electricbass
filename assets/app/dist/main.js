window.addEventListener("load",()=>{const buttons=document.querySelectorAll("[data-collapsible]");for(const button of buttons){button.addEventListener("click",event=>{event.preventDefault();const selector=event.target.dataset.collapsible;if(!selector){return}const elements=document.querySelectorAll(selector);for(const element of elements){element.classList.toggle("collapsible--show")}})}});window.addEventListener("click",event=>{if(!event.target.matches(".dropdown__button")){const dropdowns=document.getElementsByClassName("dropdown__content");for(let i=0;i<dropdowns.length;i++){const openDropdown=dropdowns[i];if(openDropdown.classList.contains("dropdown__content--show")){openDropdown.classList.remove("dropdown__content--show")}}}});window.addEventListener("load",()=>{const buttons=document.querySelectorAll(".dropdown__button");for(const button of buttons){button.addEventListener("click",function(event){event.preventDefault();const dropdown=event.target.closest(".dropdown");if(!dropdown){return}const content=dropdown.querySelector(".dropdown__content");if(!content){return}content.classList.toggle("dropdown__content--show")})}});window.addEventListener("click",event=>{if(event.target.matches(".navbar-dropdown__search")){return}const openedDropdowns=document.getElementsByClassName("navbar-dropdown__content--show");for(let i=0;i<openedDropdowns.length;i++){const openedDropdown=openedDropdowns[i];openedDropdown.classList.remove("navbar-dropdown__content--show")}if(event.target.matches(".navbar-dropdown__button")){event.preventDefault();const dropdown=event.target.closest(".navbar-dropdown");if(!dropdown){return}const content=dropdown.querySelector(".navbar-dropdown__content");if(!content){return}content.classList.add("navbar-dropdown__content--show")}});window.addEventListener("click",event=>{const svg=event.target.closest(".rating__star");const container=event.target.closest(".rating");if(!svg||!container){return}const params={tableName:container.dataset.context,tableId:container.dataset.id,ratingValue:svg.dataset.rating};fetch("/api/rate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(params)}).then(res=>res.json()).then(data=>{container.dataset.stars=parseInt(data.ratingAverage,10);container.querySelector(".rating__textAverage").textContent=data.ratingAverage;container.querySelector(".rating__textCount").textContent=data.ratingCount;container.querySelector(".rating__text").classList.remove("rating__text--hidden");container.querySelector(".rating__empty").classList.add("rating__empty--hidden")})});